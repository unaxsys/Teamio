<!doctype html>
<html lang="bg">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teamio – работни табла</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="auth-screen" id="auth-screen">
      <div class="auth-card">
        <div class="auth-brand">
          <span class="brand__dot"></span>
          <div>
            <p class="brand__name">Teamio</p>
            <p class="brand__tag">Работи лесно и красиво.</p>
          </div>
        </div>
        <div class="auth-toggle">
          <button
            type="button"
            class="ghost auth-toggle__button auth-toggle__button--active"
            data-auth="login"
          >
            Вход
          </button>
          <button type="button" class="ghost auth-toggle__button" data-auth="register">
            Регистрация
          </button>
        </div>
        <form class="auth-form auth-form--active" id="login-form">
          <label>
            Имейл
            <input type="email" name="email" placeholder="team@company.com" required />
          </label>
          <label>
            Парола
            <input type="password" name="password" placeholder="••••••••" required />
          </label>
          <button type="submit" class="primary">Влез</button>
          <button type="button" class="link-button" id="forgot-password">Забравена парола?</button>
          <p class="auth-note">Нямаш акаунт? Създай го за секунди.</p>
        </form>
        <form class="auth-form" id="register-form">
          <label>
            Име
            <input type="text" name="name" placeholder="Мария Иванова" required />
          </label>
          <label>
            Имейл
            <input type="email" name="email" placeholder="team@company.com" required />
          </label>
          <label>
            Фирма
            <input type="text" name="companyName" placeholder="Пример: Teamio OOD" required />
          </label>
          <label>
            Парола
            <input type="password" name="password" placeholder="Минимум 6 символа" minlength="6" required />
          </label>
          <button type="submit" class="primary">Създай акаунт</button>
          <p class="auth-note">Вече имаш акаунт? Използвай вход.</p>
        </form>
        <div class="auth-message" id="auth-message" role="status" aria-live="polite"></div>
      </div>
    </div>

    <div class="modal" id="reset-modal">
      <div class="modal__card">
        <h2>Възстановяване на парола</h2>
        <form id="reset-request-form">
          <label>
            Имейл
            <input type="email" name="email" placeholder="team@company.com" required />
          </label>
          <button type="submit" class="primary">Изпрати линк</button>
        </form>
        <div class="reset-link" id="reset-link"></div>
        <div class="modal__actions">
          <button type="button" class="ghost" id="close-reset">Затвори</button>
        </div>
      </div>
    </div>

    <div class="modal" id="new-password-modal">
      <div class="modal__card">
        <h2>Нова парола</h2>
        <form id="new-password-form">
          <input type="hidden" name="token" />
          <label>
            Нова парола
            <input type="password" name="password" placeholder="Минимум 6 символа" minlength="6" required />
          </label>
          <button type="submit" class="primary">Запази</button>
        </form>
        <div class="modal__actions">
          <button type="button" class="ghost" id="close-new-password">Затвори</button>
        </div>
      </div>
    </div>

    <div class="app app--hidden" id="app">
      <aside class="sidebar">
        <div class="brand">
          <span class="brand__dot"></span>
          <div>
            <p class="brand__name">Teamio</p>
            <p class="brand__tag">Умно планиране</p>
          </div>
        </div>
        <div class="profile">
          <div class="profile__avatar" id="profile-avatar">ТИ</div>
          <div>
            <p class="profile__name" id="profile-name">Гост</p>
            <button class="profile__logout" id="logout">Изход</button>
          </div>
        </div>
        <nav class="nav">
          <button class="nav__item nav__item--active" data-tab="boards">Табла</button>
          <button class="nav__item" data-tab="teams">Екипи</button>
          <button class="nav__item" data-tab="calendar">Календар</button>
          <button class="nav__item" data-tab="reports">Отчети</button>
          <button class="nav__item" data-tab="settings">Настройки</button>
        </nav>
        <div class="sync">
          <h3>Синхронизация</h3>
          <p>Всички промени се записват локално и са готови за desktop версията.</p>
          <div class="sync__status">
            <span class="sync__dot"></span>
            <span>Онлайн</span>
          </div>
        </div>
      </aside>
      <main class="main">
        <header class="header">
          <div>
            <h1>Работно табло</h1>
            <p>Организирай задачите си с един поглед.</p>
          </div>
          <div class="header__actions">
            <button class="ghost" id="new-column">Нова колона</button>
            <button class="ghost" id="open-settings">Настройки</button>
            <button class="primary" id="new-board">Нова задача</button>
          </div>
        </header>

        <section class="overview tab-panel tab-panel--active" data-tab-panel="boards">
          <div class="stat">
            <h4>Активни задачи</h4>
            <p id="stat-active">0</p>
          </div>
          <div class="stat">
            <h4>Хора във фирмата</h4>
            <p id="stat-team-size">0</p>
          </div>
          <div class="stat">
            <h4>Срокове тази седмица</h4>
            <p id="stat-due">0</p>
          </div>
        </section>

        <section class="board tab-panel tab-panel--active" id="board" data-tab-panel="boards"></section>
        <section class="panel-card tab-panel tab-panel--active" data-tab-panel="boards">
          <h3>Филтър по екипи</h3>
          <p>Избери 2, 3 или n екипа, за да обединиш задачите им.</p>
          <select id="board-team-filter" multiple></select>
        </section>

        <section class="tab-panel" data-tab-panel="teams">
          <div class="panel-card">
            <h2>Екипи</h2>
            <p>Създавай екипи, добавяй хора в 1 или няколко екипа и отделяй задачите по екипи.</p>
            <form class="panel-form" id="team-create-form">
              <label>
                Нов екип
                <input type="text" name="teamName" placeholder="Продуктов екип" required />
              </label>
              <button type="submit" class="ghost panel-form__submit">Добави екип</button>
            </form>
            <form class="panel-form" id="team-form">
              <label>
                Име
                <input type="text" name="name" placeholder="Име и фамилия" required />
              </label>
              <label>
                Роля
                <input type="text" name="role" placeholder="Продукт, QA, Дизайн" required />
              </label>
              <label>
                Екипи
                <select name="teamIds" id="member-team-ids" multiple required></select>
              </label>
              <button type="submit" class="primary panel-form__submit">Добави човек</button>
            </form>
            <div class="panel-list" id="team-list"></div>
            <div class="panel-list" id="team-catalog"></div>
          </div>
        </section>

        <section class="tab-panel" data-tab-panel="calendar">
          <div class="panel-card">
            <h2>Календар</h2>
            <p>Визуализирай срокове и ключови събития за седмицата.</p>
            <form class="panel-form" id="calendar-form">
              <label>
                Събитие
                <input type="text" name="title" placeholder="Sprint planning" required />
              </label>
              <label>
                Дата
                <input type="date" name="date" required />
              </label>
              <button type="submit" class="primary panel-form__submit">Добави събитие</button>
            </form>
            <div class="panel-list" id="calendar-list"></div>
            <div class="calendar-toolbar">
              <label>
                Изглед
                <select id="calendar-view">
                  <option value="week">Седмица</option>
                  <option value="month">Месец</option>
                </select>
              </label>
              <label>
                Отиди на дата
                <input type="date" id="calendar-focus-date" />
              </label>
              <div class="calendar-toolbar__actions">
                <button type="button" class="ghost" id="calendar-prev">Назад</button>
                <button type="button" class="ghost" id="calendar-today">Днес</button>
                <button type="button" class="ghost" id="calendar-next">Напред</button>
              </div>
            </div>
            <div class="calendar-grid" id="calendar-grid"></div>
          </div>
        </section>

        <section class="tab-panel" data-tab-panel="reports">
          <div class="panel-card">
            <h2>Отчети</h2>
            <p>Проследявай прогрес и вижай трендове по екипи и проекти.</p>
            <div class="reports-grid">
              <div class="report-tile">
                <h3>Завършени задачи</h3>
                <p class="report-number" id="report-done">0</p>
                <div class="report-bar"><span></span></div>
              </div>
              <div class="report-tile">
                <h3>Активни проекти</h3>
                <p class="report-number" id="report-active">0</p>
                <div class="report-bar report-bar--alt"><span></span></div>
              </div>
              <div class="report-tile">
                <h3>Скорост на екипа</h3>
                <p class="report-number" id="report-velocity">0%</p>
                <div class="report-bar report-bar--third"><span></span></div>
              </div>
            </div>
          </div>
        </section>

        <section class="tab-panel" data-tab-panel="settings">
          <div class="panel-card">
            <h2>Настройки</h2>
            <p>Персонализирай цветовете и предпочитанията на таблото.</p>
            <div class="settings-grid">
              <div class="setting-item">
                <h4>Акцентен цвят</h4>
                <p>Избери основен акцент за интерфейса.</p>
                <div class="color-options">
                  <button type="button" class="color-swatch" data-color="#5b6bff"></button>
                  <button type="button" class="color-swatch" data-color="#2bb8a1"></button>
                  <button type="button" class="color-swatch" data-color="#f8b259"></button>
                  <button type="button" class="color-swatch" data-color="#ff7a7a"></button>
                  <button type="button" class="color-swatch" data-color="#6dd3ff"></button>
                </div>
              </div>
              <div class="setting-item">
                <h4>Плътност</h4>
                <p>Избери компактна или комфортна визия.</p>
                <div class="density-toggle">
                  <button type="button" class="ghost density-button" data-density="comfortable">Комфортно</button>
                  <button type="button" class="ghost density-button" data-density="compact">Компактно</button>
                </div>
              </div>
              <div class="setting-item">
                <h4>Календар и отчети</h4>
                <p>Контролирай началния ден, уикенд оцветяване и критерия за завършени задачи.</p>
                <label>
                  Начален ден на седмицата
                  <select id="week-start-day">
                    <option value="monday">Понеделник</option>
                    <option value="sunday">Неделя</option>
                    <option value="saturday">Събота</option>
                  </select>
                </label>
                <label class="setting-check">
                  <input type="checkbox" id="setting-highlight-weekend" checked />
                  Оцветявай събота и неделя различно
                </label>
                <label class="setting-check">
                  <input type="checkbox" id="setting-done-by-column" checked />
                  Завършена задача, ако е в колона „Готово“
                </label>
                <label class="setting-check">
                  <input type="checkbox" id="setting-done-by-flag" />
                  Завършена задача, ако е маркирана в детайлите
                </label>
                <p class="panel-list__meta" id="done-criteria-help"></p>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <div class="modal" id="modal">
      <div class="modal__card">
        <h2>Нова задача</h2>
        <form id="task-form">
          <label>
            Заглавие
            <input type="text" name="title" placeholder="Напр. UX преглед" required />
          </label>
          <label>
            Описание
            <textarea name="description" rows="3" placeholder="Какво трябва да бъде направено?"></textarea>
          </label>
          <label>
            Срок
            <input type="date" name="due" />
          </label>
          <label>
            Колона
            <select name="column">
              <option value="backlog">Backlog</option>
              <option value="progress">В процес</option>
              <option value="review">Преглед</option>
              <option value="done">Готово</option>
            </select>
          </label>
          <label>
            Ниво
            <select name="level">
              <option value="L1">L1 – Стратегическо</option>
              <option value="L2" selected>L2 – Оперативно</option>
              <option value="L3">L3 – Детайлно</option>
            </select>
          </label>
          <label>
            Екипи
            <select name="teamIds" id="task-team-ids" multiple required></select>
          </label>
          <div class="modal__actions">
            <button type="button" class="ghost" id="close-modal">Отказ</button>
            <button type="submit" class="primary">Добави</button>
          </div>
        </form>
      </div>
    </div>

    <div class="modal" id="task-details-modal">
      <div class="modal__card modal__card--wide">
        <h2>Детайли за задача</h2>
        <form id="task-details-form">
          <input type="hidden" name="taskId" />
          <label>
            Заглавие
            <input type="text" name="title" required />
          </label>
          <label>
            Описание
            <textarea name="description" rows="8"></textarea>
          </label>
          <label>
            Срок
            <input type="date" name="due" />
          </label>
          <label>
            Ниво
            <select name="level">
              <option value="L1">L1 – Стратегическо</option>
              <option value="L2">L2 – Оперативно</option>
              <option value="L3">L3 – Детайлно</option>
            </select>
          </label>
          <label class="setting-check">
            <input type="checkbox" name="completed" />
            Маркирай като завършена
          </label>
          <div class="modal__actions">
            <button type="button" class="ghost" id="close-task-details">Затвори</button>
            <button type="submit" class="primary">Запази</button>
          </div>
        </form>
      </div>
    </div>

    <div class="modal" id="group-members-modal">
      <div class="modal__card">
        <h2 id="group-members-title">Членове на група</h2>
        <div class="panel-list" id="group-members-list"></div>
        <div class="modal__actions">
          <button type="button" class="ghost" id="close-group-members">Затвори</button>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
